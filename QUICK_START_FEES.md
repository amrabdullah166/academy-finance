# خطوات تطبيق نظام الرسوم - سريع

## ⚡ الخطوة الواحدة المطلوبة

### تطبيق SQL على Supabase

1. افتح **Supabase Dashboard**
2. اذهب إلى **SQL Editor**
3. انسخ محتوى ملف `database/fees-system.sql`
4. الصق في SQL Editor
5. اضغط **Run**

## ✅ ما تم تحديثه تلقائياً

- ✅ صفحة الكورسات - إضافة حقول الرسوم الثلاثة
- ✅ صفحة التسجيل - إضافة خيار المواصلات
- ✅ مكتبة Supabase - حساب الرسوم تلقائياً
- ✅ قاعدة البيانات - Schema كامل جاهز

## 🎯 الاستخدام

### إضافة كورس جديد
صفحة الكورسات → إضافة كورس جديد
- أدخل **الرسوم الشهرية** (إلزامي)
- أدخل **رسوم التسجيل** (اختياري)
- أدخل **رسوم المواصلات** (اختياري)

### تسجيل طالب
صفحة التسجيل → تسجيل طالب في دورة
- اختر الطالب
- اختر الكورس
- ✅ إذا وُجدت رسوم مواصلات، سيظهر checkbox لإضافتها

### ماذا يحدث تلقائياً؟
عند تسجيل طالب:
1. 💰 تُحسب الرسوم الشهرية (كورس + مواصلات إن وُجدت)
2. 📝 تُحفظ رسوم التسجيل
3. 📅 يتم إنشاء **12 سجل دفع شهري** تلقائياً
4. 🔄 تتحدث حالة الدفعات عند إضافة مدفوعات

## 📊 ما الجديد؟

| نوع الرسوم | متى تُدفع | إلزامي؟ | ملاحظات |
|-----------|---------|---------|---------|
| رسوم التسجيل | مرة واحدة | لا | عند أول تسجيل |
| الرسوم الشهرية | كل شهر | نعم | تلقائي لمدة 12 شهر |
| رسوم المواصلات | كل شهر | لا | يختارها الطالب |

## ⚠️ تحذيرات

- احفظ نسخة احتياطية من قاعدة البيانات قبل التطبيق
- الكورسات الموجودة ستحصل على رسوم = 0 (يمكنك تعديلها)
- التسجيلات القديمة لن تحصل على مدفوعات شهرية تلقائياً

## 🆘 في حال وجود مشكلة

تحقق من:
1. **Console في المتصفح** (F12)
2. **Supabase Logs** في Dashboard
3. تأكد من نجاح تنفيذ SQL بالكامل

---

📖 للمزيد من التفاصيل، راجع ملف `FEE_SYSTEM_SETUP.md`
